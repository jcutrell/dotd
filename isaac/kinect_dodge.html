<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Lag Test</title>

<link rel="stylesheet" type="text/css" href="styles/styles.css" />

<script type="text/javascript" src="./scripts/WebSocketConnection.js"></script>
<script type="text/javascript" src="./scripts/KinectListener_dodge.js"></script>


<script>
	
	var myKinectListener;
	var myWebSocketConnect;
	var self = this;
	var outputDiv;
	var outputDivRight;
	
	function initializeInterface(){
		outputDiv = document.getElementById("outputDiv");
		outputDivRight = document.getElementById("outputDivRight");
		myKinectListener = new KinectListener("skeletonBox");
		myWebSocketConnect = new WebSocketConnect("connectDiv", myKinectListener);	
	}


	function output(txt){
		outputDiv.innerHTML = txt;	
	}
	
	function outputRight(txt){
		outputDivRight.innerHTML = txt;
	}
	
	function aoppendOutput(txt){
		outputDiv.innerHTML += txt;	
		outputDivRight.innerHTML += txt;
	}
	
	function openWebSocket(){
		ipAddress = document.getElementById("ipAddressText").value;
		port = document.getElementById("portText").value;
		myWebSocketConnect.initializeWebSocketConnect(ipAddress, port);
	}
</script>


</head>

<body onload="initializeInterface();">

        <!-- KinectListener -->
        <div id="container">
            <div id="connectDiv" >
                    <div class="text">
                        <label for="ip">IP:</label>
                        <input type="text" id="ipAddressText" name="ip" value="127.0.0.1" class="text">
                    </div>
                    <div class="text">
                        <label for="port">Port:</label>
                        <input type="text" id="portText" name="port" value="1234" class="text">
                    </div>
                    <div class="submit">
                        <button onclick="openWebSocket();">Submit</button>
                    </div>
            </div>
    	</div>
        
		<div id="skeletonBox"></div>
		<div id="circleDiv"></div>
        <div id="outputDiv" style="position:absolute; left:10px; top:10px; width:300px;"></div>
		<div id="outputDivRight" style="position:absolute; right:10px; top:10px; width:300px;"></div>
		<button id="throwButton" style="position:absolute; top:500px;" onclick="myKinectListener.setObjectInbound();">throw</button>
</body>
</html>
